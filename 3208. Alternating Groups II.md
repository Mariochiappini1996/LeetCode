# 3208. Alternating Groups II

**Difficulty:** Medium

---

## Description

There is a circle of red and blue tiles. You are given an array of integers `colors` and an integer `k`. The color of tile `i` is represented by `colors[i]`:

- `colors[i] == 0` means that tile `i` is **red**.
- `colors[i] == 1` means that tile `i` is **blue**.

An **alternating group** is every `k` **contiguous tiles** in the **circle** with **alternating colors**, meaning:

- Each tile in the group **except the first and last one** has a **different color from its left and right tiles**.

Return the number of alternating groups.

---

## Notes

- Since `colors` represents a **circle**, the **first and the last** tiles are considered to be **next to each other**.

---

## Example

**Input:**
```python

colors = [0, 1, 0, 1, 0]
k = 3


## Python Solution

```python
class Solution(object):
    def numberOfAlternatingGroups(self, colors, k):
        """
        :type colors: List[int]
        :type k: int
        :rtype: int
        """
        n = len(colors)
        
        # Caso speciale: ogni singola tessera è alternante se k == 1
        if k == 1:
            return n

        # Passo 1: Calcola un array di flag per indicare dove i colori sono alternanti
        alt = [0] * n
        for i in range(n):
            # Se il colore corrente è diverso dal successivo (circolare), è alternante
            if colors[i] != colors[(i + 1) % n]:
                alt[i] = 1

        # Passo 2: Usa una finestra scorrevole per contare gruppi alternanti
        total = 0
        curr_sum = 0

        # Inizializza la prima finestra di dimensione k - 1
        for i in range(k - 1):
            curr_sum += alt[i % n]

        # Passo 3: Fai scorrere la finestra su tutte le posizioni
        for i in range(n):
            # Se la somma dei flag è esattamente k - 1, è un gruppo alternante valido
            if curr_sum == k - 1:
                total += 1
            # Sposta la finestra: rimuovi l'elemento uscente e aggiungi il nuovo entrante
            curr_sum -= alt[i % n]
            curr_sum += alt[(i + k - 1) % n]

        return total
